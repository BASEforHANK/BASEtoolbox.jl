<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Post estimation · Documentation for BASEforHANK module</title><meta name="title" content="Post estimation · Documentation for BASEforHANK module"/><meta property="og:title" content="Post estimation · Documentation for BASEforHANK module"/><meta property="twitter:title" content="Post estimation · Documentation for BASEforHANK module"/><meta name="description" content="Documentation for Documentation for BASEforHANK module."/><meta property="og:description" content="Documentation for Documentation for BASEforHANK module."/><meta property="twitter:description" content="Documentation for Documentation for BASEforHANK module."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Documentation for BASEforHANK module</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../SteadyState/">Steady state</a></li><li><a class="tocitem" href="../PerturbationSolution/">Perturbation solution</a></li><li><a class="tocitem" href="../Estimation/">Estimation</a></li><li class="is-active"><a class="tocitem" href>Post estimation</a><ul class="internal"><li><a class="tocitem" href="#Usage"><span>Usage</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li></ul></li><li><a class="tocitem" href="../Tools/">Tools</a></li><li><a class="tocitem" href="../Parsing/">Parser</a></li><li><a class="tocitem" href="../HouseholdProblem/">Household problem</a></li><li><a class="tocitem" href="../examples/baseline/">Baseline example</a></li><li><a class="tocitem" href="../Computational Notes/">Computational Notes</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Post estimation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Post estimation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/BASEforHANK/BASEtoolbox.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/BASEforHANK/BASEtoolbox.jl/blob/main/docs/src/PostEstimation.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Post-Estimation-Commands"><a class="docs-heading-anchor" href="#Post-Estimation-Commands">Post Estimation Commands</a><a id="Post-Estimation-Commands-1"></a><a class="docs-heading-anchor-permalink" href="#Post-Estimation-Commands" title="Permalink"></a></h1><p>The <code>PostEstimation</code> submodule provides a set of functions for post-estimation analysis. These functions are designed to work with the output of the model estimation process and provide further insights into the model&#39;s behavior. The functions provide plots of impulse responses, variance decompositions and historical decompositions, as well as tables in form of dataframes, where appropriate.</p><h2 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h2><p>You can use these functions by importing the <code>PostEstimation</code> module. Here&#39;s an example:</p><pre><code class="language-julia hljs">using .BASEforHANK.PostEstimation

# Now you can call the functions
compute_hist_decomp(...)</code></pre><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><h3 id="Impulse-Responses"><a class="docs-heading-anchor" href="#Impulse-Responses">Impulse Responses</a><a id="Impulse-Responses-1"></a><a class="docs-heading-anchor-permalink" href="#Impulse-Responses" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BASEforHANK.PostEstimation.compute_irfs" href="#BASEforHANK.PostEstimation.compute_irfs"><code>BASEforHANK.PostEstimation.compute_irfs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_irfs(
  exovars,
  gx,
  hx,
  XSS,
  ids;
  T = 1000,
  init_val = fill(0.01, length(exovars)),
  verbose = true
  distribution = false
  comp_ids = nothing
)</code></pre><p>Computes impulse response functions (IRFs) for a given set of shocks to exogenous variables.</p><p><strong>Arguments</strong></p><ul><li><code>exovars::Vector{Int64}</code>: Vector of positional indices of exogenous variables to which shocks are applied.</li><li><code>gx::Matrix{Float64}</code>: Control matrix (states to controls equations)</li><li><code>hx::Matrix{Float64}</code>: Transition matrix for states (state transition equations)</li><li><code>XSS::Vector{Float64}</code>: Steady state values of the model variables.</li><li><code>ids</code>: Indexes of the model variables.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>T::Int64</code>: Number of periods for which to compute IRFs.</li><li><code>init_val::Vector{Float64}</code>: Initial value of the shock to each exogenous variable, defaults to 0.01 for all shocks.</li><li><code>verbose::Bool</code>: Print progress to console.</li><li><code>distribution::Bool</code>: Compute distributional IRFs, defaults to false.</li><li><code>comp_ids</code>: Compression indices for the distribution, as created by <code>prepare_linearization</code>. Needed if <code>distribution</code> is true. Defaults to nothing.</li></ul><p><strong>Returns</strong></p><ul><li><p><code>IRFs</code>, <code>IRFs_lvl</code>: 3D array of (level) IRFs for each exogenous variable, with dimensions:</p><ul><li>1: States and controls</li><li>2: Time periods</li><li>3: Exogenous variables</li></ul></li><li><p><code>IRFs_order</code>: Names of the exogenous variables and their indices in the IRFs array.</p></li><li><p><code>IRFs_dist</code>: Dictionary containing the distributional IRFs in levels, if requested. Dimensions are the same as for <code>IRFs</code> and <code>IRFs_lvl</code>, with the following keys:</p><ul><li>&quot;Wb&quot;: Marginal value function of liquid assets, nb x T.</li><li>&quot;Wk&quot;: Marginal value function of illiquid assets, nk x T.</li><li>&quot;distr_b&quot;: Distribution of liquid assets, nb x T.</li><li>&quot;distr_k&quot;: Distribution of illiquid assets, nk x T.</li><li>&quot;distr&quot;: Joint distribution of liquid and illiquid assets, nb x nk x T.</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BASEforHANK/BASEtoolbox.jl/blob/c66dab9905ed29d876cba3d6abb57eeed3a9650b/src/SubModules/PostEstimation/compute_irfs.jl#L1-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BASEforHANK.PostEstimation.plot_irfs" href="#BASEforHANK.PostEstimation.plot_irfs"><code>BASEforHANK.PostEstimation.plot_irfs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_irfs(
    shocks_to_plot,
    vars_to_plot,
    IRFs_to_plot,
    IRFs_order,
    ids;
    horizon = 40,
    factor = 100,
    legend_on_all = false,
    show_fig = true,
    save_fig = false,
    save_fig_indiv = false,
    path = &quot;&quot;,
    suffix = &quot;&quot;,
    yscale = &quot;standard&quot;,
    style_options = (lw = 2, color = :auto, linestyle = :solid),
)</code></pre><p>Plots impulse response functions (IRFs) for specified shocks and variables, given a set of IRFs as produced by <code>compute_irfs</code>.</p><p><strong>Arguments</strong></p><ul><li><code>shocks_to_plot::Vector{Tuple{Symbol,String}}</code>: A vector of tuples, where each tuple contains a shock variable (as a <code>Symbol</code>) and its corresponding label (<code>String</code>).</li><li><code>vars_to_plot::Vector{Tuple{Symbol,String}}</code>: A vector of tuples, each containing a variable to plot (as a <code>Symbol</code>) and its corresponding label (<code>String</code>).</li><li><code>IRFs_to_plot::Vector{Tuple{Array{Float64,3},String}}</code>: A vector of tuples, where each tuple consists of a 3D array of IRFs (<code>Array{Float64,3}</code>) and a string representing the specification name.</li><li><code>IRFs_order::Vector{Symbol}</code>: A vector of symbols specifying the order of shocks in the IRF arrays.</li><li><code>ids</code>: A structure mapping variable symbols to their corresponding indices in the IRF arrays, must be identical for all IRFs versions.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>horizon::Int64</code>: The time horizon (number of periods) over which IRFs are plotted. Default is <code>40</code>.</li><li><code>factor::Int64</code>: Scaling factor for the IRFs (default: <code>100</code>).</li><li><code>legend_on_all::Bool</code>: If <code>true</code>, includes the legend on all subplots; otherwise, only the first subplot has a legend. Default is <code>false</code>.</li><li><code>show_fig::Bool</code>: If <code>true</code>, displays the plot. Default is <code>true</code>.</li><li><code>save_fig::Bool</code>: If <code>true</code>, saves the combined plot as a PDF. Default is <code>false</code>.</li><li><code>save_fig_indiv::Bool</code>: If <code>true</code>, saves individual plots for each variable directly inside a shock-specific folder. Default is <code>false</code>.</li><li><code>path::String</code>: The directory path where the generated plots should be saved. Default is an empty string (no saving).</li><li><code>suffix::String</code>: A suffix to append to the saved plot filenames. Default is an empty string.</li><li><code>yscale::Union{String, Tuple{Number,Number}, Dict{Symbol,Tuple{Number,Number}}}</code>: Y-axis scaling specification. When set to <code>&quot;common&quot;</code>, computes a common y-axis limit across all subplots from the data; when provided as a tuple, uses it as <code>(ymin, ymax)</code>; when provided as a dictionary, applies specified y-axis limits for each variable. Default is <code>&quot;standard&quot;</code>, which applies default scaling.</li><li><code>style_options::NamedTuple</code>: A named tuple specifying stylistic options for the plots, including line width (<code>lw</code>), color (default: <code>:auto</code>), and linestyle (default: <code>:solid</code>). Default is <code>(lw = 2, color = :auto, linestyle = :solid)</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BASEforHANK/BASEtoolbox.jl/blob/c66dab9905ed29d876cba3d6abb57eeed3a9650b/src/SubModules/PostEstimation/plot_irfs.jl#L1-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BASEforHANK.PostEstimation.plot_irfs_cat" href="#BASEforHANK.PostEstimation.plot_irfs_cat"><code>BASEforHANK.PostEstimation.plot_irfs_cat</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_irfs_cat(
    shock_categories,
    vars_to_plot,
    IRFs_to_plot,
    IRFs_order,
    ids;
    horizon = 40,
    factor = 100,
    show_fig = true,
    save_fig = false,
    save_fig_indiv = false,
    path = &quot;&quot;,
    suffix = &quot;&quot;,
    yscale = &quot;standard&quot;,
    style_options = (lw = 2, color = :auto, linestyle = :solid)
)</code></pre><p>Plots impulse response functions (IRFs) for specified shocks and variables, given IRFs as produced by <code>compute_irfs</code>, organized by shock categories.</p><p><strong>Arguments</strong></p><ul><li><code>shock_categories::Dict{Tuple{String,String},Vector{Symbol}}</code>: A dictionary where each key represents a category of shocks (with a label and a string for saving), and each value is a vector of symbols representing the shocks in that category.</li><li><code>vars_to_plot::Vector{Tuple{Symbol,String}}</code>: A vector of tuples, each containing a variable to plot (as a <code>Symbol</code>) and its corresponding label (<code>String</code>).</li><li><code>IRFs_to_plot::Array{Float64,3}</code>: A 3D array of IRFs.</li><li><code>IRFs_order::Vector{Symbol}</code>: A vector of symbols specifying the order of shocks in the IRF arrays.</li><li><code>ids</code>: A structure mapping variable symbols to their corresponding indices in the IRF arrays, which must be identical for all IRFs versions.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>horizon::Int64</code>: The time horizon (number of periods) over which IRFs are plotted. Default is <code>40</code>.</li><li><code>factor::Int64</code>: Scaling factor for the IRFs (default: <code>100</code>).</li><li><code>show_fig::Bool</code>: If <code>true</code>, displays the plot. Default is <code>true</code>.</li><li><code>save_fig::Bool</code>: If <code>true</code>, saves the combined plot as a PDF. Default is <code>false</code>.</li><li><code>save_fig_indiv::Bool</code>: If <code>true</code>, saves individual plots for each variable or shock panel directly inside a category-specific folder. Default is <code>false</code>.</li><li><code>path::String</code>: The directory path where the generated plots should be saved. Default is an empty string (no saving).</li><li><code>suffix::String</code>: A suffix to append to the saved plot filenames. Default is an empty string.</li><li><code>yscale::Union{String, Tuple{Number,Number}, Dict{Symbol,Tuple{Number,Number}}}</code>: Y-axis scaling specification. When set to <code>&quot;common&quot;</code>, computes a common y-axis limit across all subplots from the data; when provided as a tuple, uses it as <code>(ymin, ymax)</code>; when provided as a dictionary, applies specified y-axis limits for each variable. Default is <code>&quot;standard&quot;</code>, which applies default scaling.</li><li><code>style_options::NamedTuple</code>: A named tuple specifying stylistic options for the plots, including line width (<code>lw</code>), color (default: <code>:auto</code>), and linestyle (default: <code>:solid</code>). Default is <code>(lw = 2, color = :auto, linestyle = :solid)</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BASEforHANK/BASEtoolbox.jl/blob/c66dab9905ed29d876cba3d6abb57eeed3a9650b/src/SubModules/PostEstimation/plot_irfs_cat.jl#L1-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BASEforHANK.PostEstimation.plot_distributional_irfs" href="#BASEforHANK.PostEstimation.plot_distributional_irfs"><code>BASEforHANK.PostEstimation.plot_distributional_irfs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_distributional_irfs(
    shocks_to_plot,
    vars_to_plot,
    IRFs_to_plot,
    IRFs_order;
    horizon = 40,
    factor = 100,
    legend = false,
    show_fig = true,
    save_fig = false,
    path = &quot;&quot;,
    suffix = &quot;&quot;
)</code></pre><p>Plots impulse response functions (IRFs) for specified shocks and distributional variables, given a set of IRFs as produced by <code>compute_irfs</code>.</p><p><strong>Arguments</strong></p><ul><li><p><code>shocks_to_plot::Vector{Tuple{Symbol,String}}</code>: A vector of tuples, where each tuple contains a shock variable (as a <code>Symbol</code>) and its corresponding label (<code>String</code>).</p></li><li><p><code>vars_to_plot::Vector{Tuple{Symbol,String}}</code>: A vector of tuples, each containing a variable to plot (as a <code>Symbol</code>) and its corresponding label (<code>String</code>).</p></li><li><p><code>IRFs_to_plot::Dict{String,Array{Float64}}</code>: A dictionary of distributional IRFs, where the keys are variable names and the values are arrays of IRFs.</p></li><li><p><code>IRFs_order::Vector{Symbol}</code>: A vector of symbols specifying the order of shocks in the IRF arrays.</p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>horizon::Int64</code>: The time horizon (number of periods) over which IRFs are plotted. Default is <code>40</code>.</li><li><code>factor::Int64</code>: Scaling factor for the IRFs (default: <code>100</code>).</li><li><code>legend_on_all::Bool</code>: If <code>true</code>, includes the legend on all subplots. Otherwise, only</li><li><code>show_fig::Bool</code>: If <code>true</code>, displays the plot (default: <code>true</code>). the first subplot has a legend (default: <code>false</code>).</li><li><code>save_fig::Bool</code>: If <code>true</code>, saves the plot as a PDF. Default is <code>false</code>.</li><li><code>path::String</code>: The directory path where the generated plots should be saved. Default is an empty string (no saving).</li><li><code>suffix::String</code>: A suffix to append to the saved plot filenames. Default is an empty string.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BASEforHANK/BASEtoolbox.jl/blob/c66dab9905ed29d876cba3d6abb57eeed3a9650b/src/SubModules/PostEstimation/plot_distributional_irfs.jl#L1-L44">source</a></section></article><h3 id="Variance-Decomposition"><a class="docs-heading-anchor" href="#Variance-Decomposition">Variance Decomposition</a><a id="Variance-Decomposition-1"></a><a class="docs-heading-anchor-permalink" href="#Variance-Decomposition" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BASEforHANK.PostEstimation.compute_vardecomp" href="#BASEforHANK.PostEstimation.compute_vardecomp"><code>BASEforHANK.PostEstimation.compute_vardecomp</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_vardecomp(IRFs)</code></pre><p>Computes the variance decomposition of the impulse response functions (IRFs) of a model.</p><p><strong>Arguments</strong></p><ul><li><p><code>IRFs::Array{Float64}</code>: 3D array of IRFs for each exogenous variable, with dimensions, returned from <code>compute_irfs</code>:</p><ul><li>1: States and controls</li><li>2: Time periods</li><li>3: Exogenous variables</li></ul></li></ul><p><strong>Returns</strong></p><ul><li><p><code>VDs</code>: 3D array of variance decompositions for each exogenous variable, with dimensions:</p><ul><li>1: States and controls</li><li>2: Time periods</li><li>3: Exogenous variables</li></ul></li><li><p><code>exovars_names</code>: Names of the exogenous variables.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BASEforHANK/BASEtoolbox.jl/blob/c66dab9905ed29d876cba3d6abb57eeed3a9650b/src/SubModules/PostEstimation/compute_vardecomp.jl#L1-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BASEforHANK.PostEstimation.compute_vardecomp_bcfreq" href="#BASEforHANK.PostEstimation.compute_vardecomp_bcfreq"><code>BASEforHANK.PostEstimation.compute_vardecomp_bcfreq</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_vardecomp_bcfreq(exovars_full, stds, gx, hx; passband = (6, 32), ngrid = 512)</code></pre><p>This function is designed to produce a variance decomposition at business cycle frequencies. It produces a variance decomposition of the linearized solution. It returns the variance decomposition at business cycle frequencies based on Uhlig (2001) and the unconditional variance.</p><p><strong>Arguments</strong></p><ul><li><code>exovars_full::Vector{Int64}</code>: Vector of positional indices of all exogenous variables to which shocks; note: here, no subset of exogenous variables is allowed.</li><li><code>stds::Vector{Float64}</code>: Vector of standard deviations of the shocks.</li><li><code>gx::Matrix{Float64}</code>: Control matrix (states to controls equations)</li><li><code>hx::Matrix{Float64}</code>: Transition matrix for states (state transition equations)</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>passband::Tuple{Int64,Int64}</code>: A tuple specifying the horizons associated with the business cycle. Default is (6, 32).</li><li><code>ngrid::Int64</code>: The number of grid points for the computation of the band pass filter. Default is 512.</li></ul><p><strong>Returns</strong></p><ul><li><code>VD</code>: Variance decomposition at business cycle frequencies.</li><li><code>UnconditionalVar</code>: Unconditional variance.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BASEforHANK/BASEtoolbox.jl/blob/c66dab9905ed29d876cba3d6abb57eeed3a9650b/src/SubModules/PostEstimation/compute_vardecomp.jl#L30-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BASEforHANK.PostEstimation.plot_vardecomp" href="#BASEforHANK.PostEstimation.plot_vardecomp"><code>BASEforHANK.PostEstimation.plot_vardecomp</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_vardecomp(
    vars_to_plot,
    VDs_to_plot,
    VDs_order,
    ids;
    shock_categories = Dict(),
    VD_horizons = [4, 16, 100],
    colorlist = [...],
    show_fig = true,
    save_fig = false,
    path = &quot;&quot;,
    suffix = &quot;&quot;,
    factor = 100.0,
)</code></pre><p>Plots variance decompositions (VDs) for selected variables across multiple models and forecast horizons, given a set of VDs as produced by <code>compute_vardecomp</code>, potentially organized by shock categories.</p><p><strong>Arguments</strong></p><ul><li><code>vars_to_plot::Vector{Tuple{Symbol,String}}</code>: A vector of tuples, where each tuple consists of a variable to plot (as a <code>Symbol</code>) and its corresponding label (<code>String</code>).</li><li><code>VDs_to_plot::Vector{Tuple{Array{Float64,3},String}}</code>: A vector of tuples, where each tuple consists of a 3D array of VDs (<code>Array{Float64,3}</code>) and a string representing the specification name.</li><li><code>VDs_order::Vector{Symbol}</code>: A vector of symbols specifying the order of shocks in the VD arrays.</li><li><code>ids</code>: A structure mapping variable symbols to their corresponding indices in the VD arrays, must be identical for all VDs versions.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>shock_categories::Dict{Tuple{String,String},Vector{Symbol}}</code>: A dictionary where each key represents a category of shocks (with a label and a string for saving), and each value is a vector of symbols representing the shocks in that category.</li><li><code>VD_horizons::Vector{Int64}</code>: Forecast horizons to consider. Default is <code>[4, 16, 100]</code>.</li><li><code>colorlist::Vector</code>: A list of colors used to distinguish different shocks in the stacked bar plots. Default includes predefined hex colors and symbols.</li><li><code>show_fig::Bool</code>: If <code>true</code>, displays the plot. Default is <code>true</code>.</li><li><code>save_fig::Bool</code>: If <code>true</code>, saves the plot as a PDF. Default is <code>false</code>.</li><li><code>path::String</code>: The directory path where the generated plots should be saved. Default is an empty string (no saving).</li><li><code>suffix::String</code>: A suffix to append to the saved plot filenames. Default is an empty string.</li><li><code>factor::Float64 = 100.0</code>: Scaling factor for variance decomposition values.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BASEforHANK/BASEtoolbox.jl/blob/c66dab9905ed29d876cba3d6abb57eeed3a9650b/src/SubModules/PostEstimation/plot_vardecomp.jl#L1-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BASEforHANK.PostEstimation.plot_vardecomp_bcfreq" href="#BASEforHANK.PostEstimation.plot_vardecomp_bcfreq"><code>BASEforHANK.PostEstimation.plot_vardecomp_bcfreq</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_vardecomp_bcfreq(
    vars_to_plot,
    VDbcs_to_plot,
    VDbcs_order,
    ids;
    shock_categories = Dict(),
    colorlist = [...],
    show_fig = true,
    save_fig = false,
    path = &quot;&quot;,
    suffix = &quot;&quot;,
    factor = 100.0,
)</code></pre><p>Plots busincess cycle frequency variance decompositions (VDbcs) for selected variables across multiple models and forecast horizons, given a set of VDbcs as produced by <code>compute_vardecomp_bcfreq</code>, potentially organized by shock categories.</p><p><strong>Arguments</strong></p><ul><li><code>vars_to_plot::Vector{Tuple{Symbol,String}}</code>: A vector of tuples, where each tuple consists of a variable to plot (as a <code>Symbol</code>) and its corresponding label (<code>String</code>).</li><li><code>VDbcs_to_plot::Vector{Tuple{Matrix{Float64},String}}</code>: A vector of tuples, where each tuple consists of a matrix of VDbcs (<code>Matrix{Float64}</code>) and a string representing the specification name.</li><li><code>VDbcs_order::Vector{Symbol}</code>: A vector of symbols specifying the order of shocks in the VDbc arrays.</li><li><code>ids</code>: A structure mapping variable symbols to their corresponding indices in the VD arrays, must be identical for all VDbcs versions.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>shock_categories::Dict{Tuple{String,String},Vector{Symbol}}</code>: A dictionary where each key represents a category of shocks (with a label and a string for saving), and each value is a vector of symbols representing the shocks in that category.</li><li><code>colorlist::Vector</code>: A list of colors used to distinguish different shocks in the stacked bar plots. Default includes predefined hex colors and symbols.</li><li><code>show_fig::Bool</code>: If <code>true</code>, displays the plot. Default is <code>true</code>.</li><li><code>save_fig::Bool</code>: If <code>true</code>, saves the plot as a PDF. Default is <code>false</code>.</li><li><code>path::String</code>: The directory path where the generated plots should be saved. Default is an empty string (no saving).</li><li><code>suffix::String</code>: A suffix to append to the saved plot filenames. Default is an empty string.</li><li><code>factor::Float64 = 100.0</code>: Scaling factor for variance decomposition values.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BASEforHANK/BASEtoolbox.jl/blob/c66dab9905ed29d876cba3d6abb57eeed3a9650b/src/SubModules/PostEstimation/plot_vardecomp.jl#L193-L238">source</a></section></article><h3 id="Historical-Decomposition"><a class="docs-heading-anchor" href="#Historical-Decomposition">Historical Decomposition</a><a id="Historical-Decomposition-1"></a><a class="docs-heading-anchor-permalink" href="#Historical-Decomposition" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BASEforHANK.PostEstimation.compute_hist_decomp" href="#BASEforHANK.PostEstimation.compute_hist_decomp"><code>BASEforHANK.PostEstimation.compute_hist_decomp</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_hist_decomp(exovars_full, gx, hx, smoother_output, ids)</code></pre><p>Computes the historical decomposition of the model&#39;s variables in response to a set of shocks, including the effect of initial conditions and each shock.</p><p><strong>Arguments</strong></p><ul><li><code>exovars_full::Vector{Int64}</code>: Vector of positional indices of all exogenous variables to which shocks; note: here, no subset of exogenous variables is allowed.</li><li><code>gx::Matrix{Float64}</code>: Control matrix (states to controls equations)</li><li><code>hx::Matrix{Float64}</code>: Transition matrix for states (state transition equations)</li><li><code>smoother_output</code>: The output from a smoother function.</li><li><code>ids</code>: Indexes of the model variables.</li></ul><p><strong>Returns</strong></p><ul><li><p><code>ShockContr::Array{Float64}</code>: A 3D array representing the decomposition of the effects of each shock and the initial condition on states and controls over time. The dimensions are:</p><ul><li>1: States and controls</li><li>2: Time periods</li><li>3: Shocks (including an additional index for the initial condition)</li></ul></li><li><p><code>ShockContr_order::Vector{Any}</code>: A vector containing the names or identifiers of the shocks and the initial condition, in the order they appear in the <code>ShockContr</code> array.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BASEforHANK/BASEtoolbox.jl/blob/c66dab9905ed29d876cba3d6abb57eeed3a9650b/src/SubModules/PostEstimation/compute_hist_decomp.jl#L1-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BASEforHANK.PostEstimation.plot_hist_decomp" href="#BASEforHANK.PostEstimation.plot_hist_decomp"><code>BASEforHANK.PostEstimation.plot_hist_decomp</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_hist_decomp(
    vars_to_plot,
    HDs_to_plot,
    HDs_order,
    ids;
    shock_categories = Dict(),
    timeline = collect(1:size(HDs_to_plot, 2)),
    colorlist = [...],
    show_fig = true,
    save_fig = false,
    path = &quot;&quot;,
    suffix = &quot;&quot;
)</code></pre><p>Plots historical decompositions (HDs) for specified variables, showing the contribution of different shocks over time, given a set of HDs as produced by <code>compute_hist_decomp</code>, potentially organized by shock categories.</p><p><strong>Arguments</strong></p><ul><li><code>vars_to_plot::Vector{Tuple{Symbol,String}}</code>: A vector of tuples, where each tuple consists of a variable to plot (as a <code>Symbol</code>) and its corresponding label (<code>String</code>).</li><li><code>HDs_to_plot::Array{Float64,3}</code>: A 3D array containing historical decompositions, where dimensions correspond to variables, time periods, and shocks.</li><li><code>HDs_order::Vector{Symbol}</code>: A vector of symbols specifying the order of shocks in the HDs array.</li><li><code>ids</code>: A structure mapping variable symbols to their corresponding indices in the HDs array, ensuring consistency across all plotted variables.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>shock_categories::Dict{Tuple{String,String},Vector{Symbol}}</code>: A dictionary where each key represents a category of shocks (with a label and a string for saving), and each value is a vector of symbols representing the shocks in that category.</li><li><code>timeline::Vector</code>: A vector specifying the time axis for the plots. Default is a sequence from <code>1</code> to the number of time periods in <code>HDs_to_plot</code>.</li><li><code>colorlist::Vector</code>: A list of colors used to distinguish different shocks in the stacked bar plots. Default includes predefined hex colors and symbols.</li><li><code>show_fig::Bool</code>: If <code>true</code>, displays the plot. Default is <code>true</code>.</li><li><code>save_fig::Bool</code>: If <code>true</code>, saves the plot as a PDF. Default is <code>false</code>.</li><li><code>path::String</code>: The directory path where the generated plots should be saved. Default is an empty string (no saving).</li><li><code>suffix::String</code>: A suffix to append to the saved plot filenames. Default is an empty string.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BASEforHANK/BASEtoolbox.jl/blob/c66dab9905ed29d876cba3d6abb57eeed3a9650b/src/SubModules/PostEstimation/plot_hist_decomp.jl#L1-L46">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Estimation/">« Estimation</a><a class="docs-footer-nextpage" href="../Tools/">Tools »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Tuesday 29 April 2025 08:42">Tuesday 29 April 2025</span>. Using Julia version 1.10.9.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
